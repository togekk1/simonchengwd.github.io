import{_}from"./index.5f0bfc7a.js";async function A(f,l={}){const s={env:Object.assign(Object.create(globalThis),l.env||{},{abort(r,t,o,a){r=i(r>>>0),t=i(t>>>0),o=o>>>0,a=a>>>0,(()=>{throw Error(`${r} in ${t}:${o}:${a}`)})()},"window.innerHeight":window.innerHeight})},{exports:n}=await WebAssembly.instantiate(f,s),e=n.memory||l.env.memory,y=Object.setPrototypeOf({_ticker:{valueOf(){return this.value},get value(){return b(n._ticker.value>>>0)},set value(r){n._ticker.value=c(r)||u()}}},n);function b(r){return r?{stage_top:new Float64Array(e.buffer)[r+0>>>3],accelerate:new Float64Array(e.buffer)[r+8>>>3],current_accelerate:new Float64Array(e.buffer)[r+16>>>3],resolution:new Float64Array(e.buffer)[r+24>>>3],view_height:new Float64Array(e.buffer)[r+32>>>3],stage_height:new Float64Array(e.buffer)[r+40>>>3],start:new Float64Array(e.buffer)[r+48>>>3],y:new Float64Array(e.buffer)[r+56>>>3],scrolling_speed:new Float64Array(e.buffer)[r+64>>>3],scrolling_distance:new Float64Array(e.buffer)[r+72>>>3],deltaY:new Float64Array(e.buffer)[r+80>>>3],key_code:new Int32Array(e.buffer)[r+88>>>2],margin_bottom:new Float64Array(e.buffer)[r+96>>>3],step:new Float64Array(e.buffer)[r+104>>>3],scroll_bottom_limit:new Float64Array(e.buffer)[r+112>>>3],show_options:new Uint8Array(e.buffer)[r+120>>>0]!=0,remove:new Uint8Array(e.buffer)[r+121>>>0]!=0}:null}function c(r){if(r==null)return 0;const t=n.__pin(n.__new(122,3));return new Float64Array(e.buffer)[t+0>>>3]=r.stage_top,new Float64Array(e.buffer)[t+8>>>3]=r.accelerate,new Float64Array(e.buffer)[t+16>>>3]=r.current_accelerate,new Float64Array(e.buffer)[t+24>>>3]=r.resolution,new Float64Array(e.buffer)[t+32>>>3]=r.view_height,new Float64Array(e.buffer)[t+40>>>3]=r.stage_height,new Float64Array(e.buffer)[t+48>>>3]=r.start,new Float64Array(e.buffer)[t+56>>>3]=r.y,new Float64Array(e.buffer)[t+64>>>3]=r.scrolling_speed,new Float64Array(e.buffer)[t+72>>>3]=r.scrolling_distance,new Float64Array(e.buffer)[t+80>>>3]=r.deltaY,new Int32Array(e.buffer)[t+88>>>2]=r.key_code,new Float64Array(e.buffer)[t+96>>>3]=r.margin_bottom,new Float64Array(e.buffer)[t+104>>>3]=r.step,new Float64Array(e.buffer)[t+112>>>3]=r.scroll_bottom_limit,new Uint8Array(e.buffer)[t+120>>>0]=r.show_options?1:0,new Uint8Array(e.buffer)[t+121>>>0]=r.remove?1:0,n.__unpin(t),t}function i(r){if(!r)return null;const t=r+new Uint32Array(e.buffer)[r-4>>>2]>>>1,o=new Uint16Array(e.buffer);let a=r>>>1,w="";for(;t-a>1024;)w+=String.fromCharCode(...o.subarray(a,a+=1024));return w+String.fromCharCode(...o.subarray(a,t))}function u(){throw TypeError("value must not be null")}return y}const{memory:m,_ticker:g,tick:h,keydown:d}=await(async f=>A(await(async()=>{try{return await globalThis.WebAssembly.compileStreaming(globalThis.fetch(f))}catch{return globalThis.WebAssembly.compile(await(await _(()=>import("./__vite-browser-external.aaa15d46.js"),[],import.meta.url)).readFile(f))}})(),{}))(new URL(""+new URL("tick.optimized.b3fb0e5f.wasm",import.meta.url).href,self.location));export{g as _ticker,d as keydown,m as memory,h as tick};
